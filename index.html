  <!--                   SCROLL TO TOP BUTTON                        -->
  <!-- ============================================================ -->
  <button class="scroll-top" id="scrollTop" aria-label="Scroll to top" data-tooltip="Back to Top">
    <i class="ri-arrow-up-line"></i>
  </button>

  <!-- ============================================================ -->
  <!--                        SCRIPTS                                -->
  <!-- ============================================================ -->
  <script src="js/scrollreveal.min.js"></script>
  
  <script>
    /* ============================================
       PRELOADER
    ============================================ */
    window.addEventListener('load', () => {
      const loader = document.getElementById('loader');
      const mainContent = document.querySelector('.main-content');
      
      setTimeout(() => {
        loader.classList.add('hidden');
        mainContent.classList.add('visible');
      }, 1500);

      // Remove loader from DOM after animation
      setTimeout(() => {
        loader.style.display = 'none';
      }, 2200);
    });

    /* ============================================
       DYNAMIC YEAR
    ============================================ */
    document.getElementById('year').textContent = new Date().getFullYear();

    /* ============================================
       DARK / LIGHT THEME
    ============================================ */
    const themeButton = document.getElementById('theme-button');
    const darkTheme = 'dark-theme';
    const iconTheme = 'ri-sun-line';

    // Load saved theme
    const savedTheme = localStorage.getItem('selected-theme');
    const savedIcon = localStorage.getItem('selected-icon');

    const getCurrentTheme = () =>
      document.body.classList.contains(darkTheme) ? 'dark' : 'light';
    const getCurrentIcon = () =>
      themeButton.querySelector('i').classList.contains(iconTheme) ? 'ri-moon-line' : 'ri-sun-line';

    if (savedTheme) {
      document.body.classList[savedTheme === 'dark' ? 'add' : 'remove'](darkTheme);
      themeButton.querySelector('i').classList[savedIcon === 'ri-moon-line' ? 'add' : 'remove'](iconTheme);
    }

    themeButton.addEventListener('click', () => {
      document.body.classList.toggle(darkTheme);
      themeButton.querySelector('i').classList.toggle(iconTheme);
      localStorage.setItem('selected-theme', getCurrentTheme());
      localStorage.setItem('selected-icon', getCurrentIcon());
    });

    /* ============================================
       FILTER TABS
    ============================================ */
    const tabs = document.querySelectorAll('[data-target]');
    const tabContents = document.querySelectorAll('[data-content]');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const target = document.querySelector(tab.dataset.target);

        // Remove active classes
        tabContents.forEach(content => content.classList.remove('filters__active'));
        tabs.forEach(t => t.classList.remove('filter-tab-active'));

        // Add active classes
        target.classList.add('filters__active');
        tab.classList.add('filter-tab-active');
      });
    });

    /* ============================================
       SCROLL REVEAL ANIMATION
    ============================================ */
    if (typeof ScrollReveal !== 'undefined') {
      const sr = ScrollReveal({
        origin: 'top',
        distance: '40px',
        duration: 800,
        delay: 200,
        easing: 'cubic-bezier(0.5, 0, 0, 1)',
        reset: false,
      });

      sr.reveal('.profile__border', { delay: 100 });
      sr.reveal('.profile__name', { delay: 200 });
      sr.reveal('.profile__profession', { delay: 300 });
      sr.reveal('.profile__bio', { delay: 350 });
      sr.reveal('.profile__social', { delay: 400, origin: 'bottom' });
      sr.reveal('.profile__info', { delay: 450, origin: 'bottom' });
      sr.reveal('.profile__buttons', { delay: 500, origin: 'bottom' });
      sr.reveal('.profile__project', { delay: 550, origin: 'bottom' });
      sr.reveal('.filters__content', { delay: 300 });
      sr.reveal('.projects__card', { interval: 150, origin: 'bottom' });
      sr.reveal('.skills__area', { interval: 200, origin: 'bottom' });
    }

    /* ============================================
       BACKGROUND MUSIC TOGGLE
    ============================================ */
    const musicNotice = document.getElementById('musicNotice');
    const bgMusic = document.getElementById('bgMusic');
    let isPlaying = false;

    // Show music notice after loader
    setTimeout(() => {
      musicNotice.classList.add('show');
    }, 2500);

    musicNotice.addEventListener('click', () => {
      if (isPlaying) {
        bgMusic.pause();
        musicNotice.classList.add('paused');
        musicNotice.querySelector('span:last-child').textContent = 'Paused';
        isPlaying = false;
      } else {
        bgMusic.volume = 0.3;
        bgMusic.play().catch(() => {
          console.log('Autoplay blocked by browser');
        });
        musicNotice.classList.remove('paused');
        musicNotice.querySelector('span:last-child').textContent = 'Now Playing';
        isPlaying = true;
      }
    });

    /* ============================================
       SCROLL TO TOP BUTTON
    ============================================ */
    const scrollTopBtn = document.getElementById('scrollTop');

    window.addEventListener('scroll', () => {
      if (window.scrollY >= 300) {
        scrollTopBtn.classList.add('show');
      } else {
        scrollTopBtn.classList.remove('show');
      }
    });

    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    /* ============================================
       TYPING EFFECT FOR PROFESSION (Optional)
    ============================================ */
    // Uncomment below to enable typing effect
    /*
    const professionEl = document.querySelector('.profile__profession');
    const titles = ['Developer & Bot Enthusiast', 'Full Stack Developer', 'Open Source Contributor'];
    let titleIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    
    function typeEffect() {
      const currentTitle = titles[titleIndex];
      
      if (isDeleting) {
        professionEl.innerHTML = `<span class="status-dot"></span>${currentTitle.substring(0, charIndex - 1)}`;
        charIndex--;
      } else {
        professionEl.innerHTML = `<span class="status-dot"></span>${currentTitle.substring(0, charIndex + 1)}`;
        charIndex++;
      }
      
      if (!isDeleting && charIndex === currentTitle.length) {
        setTimeout(() => isDeleting = true, 2000);
      } else if (isDeleting && charIndex === 0) {
        isDeleting = false;
        titleIndex = (titleIndex + 1) % titles.length;
      }
      
      setTimeout(typeEffect, isDeleting ? 50 : 100);
    }
    
    setTimeout(typeEffect, 3000);
    */

    /* ============================================
       PARALLAX TILT EFFECT ON PROFILE (Optional)
    ============================================ */
    const profileBorder = document.querySelector('.profile__border');
    
    if (profileBorder && window.innerWidth > 768) {
      profileBorder.addEventListener('mousemove', (e) => {
        const rect = profileBorder.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;
        const rotateX = (y / rect.height) * -15;
        const rotateY = (x / rect.width) * 15;
        
        profileBorder.style.transform = `perspective(500px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
      });
      
      profileBorder.addEventListener('mouseleave', () => {
        profileBorder.style.transform = 'perspective(500px) rotateX(0) rotateY(0)';
        profileBorder.style.transition = 'transform 0.5s ease';
      });
      
      profileBorder.addEventListener('mouseenter', () => {
        profileBorder.style.transition = 'none';
      });
    }

    /* ============================================
       PREVENT CONTEXT MENU & SHORTCUTS (Soft)
    ============================================ */
    document.addEventListener('contextmenu', (e) => e.preventDefault());
    
    document.addEventListener('keydown', (e) => {
      // Block: Ctrl+U, Ctrl+S, Ctrl+Shift+I, Ctrl+Shift+C, F12
      if (
        (e.ctrlKey && e.key === 'u') ||
        (e.ctrlKey && e.key === 's') ||
        (e.ctrlKey && e.shiftKey && e.key === 'I') ||
        (e.ctrlKey && e.shiftKey && e.key === 'C') ||
        e.key === 'F12'
      ) {
        e.preventDefault();
        return false;
      }
    });

    /* ============================================
       INTERSECTION OBSERVER FOR ANIMATIONS
    ============================================ */
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animationPlayState = 'running';
          entry.target.classList.add('animate-in');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.skills__data, .projects__card, .profile__info-group').forEach(el => {
      observer.observe(el);
    });

    /* ============================================
       CONSOLE EASTER EGG
    ============================================ */
    console.log(
      '%cðŸš€ VincentSensei â€” Portfolio',
      'color: #3b82f6; font-size: 20px; font-weight: bold; padding: 10px;'
    );
    console.log(
      '%cDon\'t snoop around! ðŸ˜„ Visit: https://bundasandrian2024.bio.link/',
      'color: #64748b; font-size: 12px; padding: 5px;'
    );
  </script>

  <!-- Main JS (Keep your existing main.js if needed) -->
  <script src="js/main.js"></script>

</body>
</html>
